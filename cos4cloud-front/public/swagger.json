{"basePath":"/api","consumes":["application/json"],"definitions":{"Comment":{"properties":{"comment":{"type":"string"},"createdAt":{"type":"string"},"id":{"type":"string"},"observation_id":{"type":"number"},"origin":{"enum":["natusfera","ispot","plantnet","artportalen"],"type":"string"},"updatedAt":{"type":"string"},"user":{"$ref":"#/definitions/User"},"user_id":{"type":"string"}},"required":["id"]},"ErrorResponse":{"properties":{"message":{"type":"string"}},"required":["message"]},"Identification":{"properties":{"comment":{"type":"string"},"createdAt":{"type":"string"},"id":{"type":"string"},"observation_id":{"type":"number"},"origin":{"enum":["natusfera","ispot","plantnet","artportalen"],"type":"string"},"taxon":{"$ref":"#/definitions/Taxon"},"taxon_id":{"type":"number"},"updatedAt":{"type":"string"},"user":{"$ref":"#/definitions/User"},"user_id":{"type":"string"}},"required":["id"]},"Media":{"properties":{"format":{"type":"string"},"identifier":{"type":"string"},"large_url":{"type":"string"},"license":{"type":"string"},"medium_url":{"type":"string"},"rightsHolder":{"type":"string"},"type":{"type":"string"}}},"Observation":{"properties":{"accessRight":{"type":"string"},"basisOfRecord":{"enum":["PreservedSpecimen","FossilSpecimen","LivingSpecimen","MaterialSample","Event","HumanObservation","MachineObservation","Taxon","Occurrence"],"type":"string"},"comments":{"items":{"$ref":"#/definitions/Comment"},"type":"array"},"created_at":{"type":"string"},"decimalLatitude":{"type":"number"},"decimalLongitud":{"type":"number"},"description":{"type":"string"},"eventDate":{"type":"string"},"id":{"type":"string"},"identificationVerificationStatus":{"enum":["reasearch","casual"],"type":"string"},"identifications":{"items":{"$ref":"#/definitions/Identification"},"type":"array"},"kingdom":{"enum":["Plantae","Animalia","Reptilia","Fungi"],"type":"string"},"license":{"type":"string"},"media":{"items":{"$ref":"#/definitions/Media"},"type":"array"},"observedOn":{"type":"string"},"occurrenceStatus":{"type":"string"},"origin":{"enum":["natusfera","ispot","plantnet","artportalen"],"type":"string"},"ownerInstitutionCodeProperty":{"enum":["natusfera","ispot","plantnet","artportalen"],"type":"string"},"rightsHolder":{"type":"string"},"scientificName":{"type":"string"},"taxon":{"$ref":"#/definitions/Taxon"},"type":{"type":"string"}},"required":["id"]},"SuccessResponse":{"properties":{"message":{"type":"string"}},"required":["message"]},"Taxon":{"properties":{"ancestry":{"type":"string"},"class":{"type":"string"},"common_name":{"type":"string"},"createdAt":{"type":"string"},"family":{"type":"string"},"genus":{"type":"string"},"id":{"type":"string"},"kingdom":{"enum":["Plantae","Animalia","Reptilia","Fungi"],"type":"string"},"name":{"type":"string"},"order":{"type":"string"},"phylum":{"type":"string"},"rank":{"type":"string"},"rank_level":{"type":"number"},"url":{"type":"string"}},"required":["id"]},"User":{"properties":{"displayName":{"type":"string"},"email":{"type":"string"},"login":{"type":"string"},"profession":{"type":"string"},"sub":{"type":"string"}}},"UserInfoResponse":{"properties":{"valid":{"type":"boolean"}},"required":["valid"]}},"host":"europe-west2-cos4cloud-2d9d3.cloudfunctions.net","info":{"description":"All the biodiversity observations in one place","title":"Cos4Bio API","version":"0.0.1"},"paths":{"/agg":{"get":{"description":"Show aggagations of comments/download by dates \u0026 origin...","operationId":"agg","parameters":[{"description":"The user_id from Authenix","in":"header","name":"sub","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/SuccessResponse"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Agg"]},"x-swagger-router-controller":"agg"},"/comments":{"post":{"description":"Send Comment/Identification","operationId":"addComment","parameters":[{"description":"The user_id from Authenix","in":"query","name":"user_id","required":true,"type":"string"},{"description":"The id of the observation (with the origin)","in":"query","name":"observation_id","required":true,"type":"string"},{"description":"The sub of the observation","in":"query","name":"sub","required":true,"type":"string"},{"description":"The taxon guess of the specie","in":"query","name":"taxon","required":false,"type":"string"},{"description":"The access_token from authenix","in":"query","name":"token","required":false,"type":"string"},{"description":"The text/remarks of the comment","in":"query","name":"body","required":false,"type":"string"},{"description":"The text/remarks of the comment","in":"query","name":"comment","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/Comment"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Comments"]},"x-swagger-router-controller":"comments"},"/comments/agg":{"get":{"description":"Show aggagations of comments/identifications by dates \u0026 origin","operationId":"generic","parameters":[{"description":"The user_id from Authenix","in":"header","name":"sub","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/SuccessResponse"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Comments"]},"x-swagger-router-controller":"generic"},"/comments/search":{"get":{"description":"Show list of Comments/Identifications","operationId":"generic","responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/SuccessResponse"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Comments"]},"x-swagger-router-controller":"generic"},"/downloads/agg":{"get":{"description":"Show aggregations of users by dates","operationId":"generic","parameters":[{"description":"The user_id from Authenix","in":"header","name":"sub","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/SuccessResponse"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Downloads"]},"x-swagger-router-controller":"generic"},"/downloads/search":{"get":{"description":"Show list of Donwloads","operationId":"generic","responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/SuccessResponse"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Downloads"]},"x-swagger-router-controller":"generic"},"/dwc/observations":{"get":{"description":"Returns 'Observations' from different portals","operationId":"observations","parameters":[{"description":"The page number","in":"query","name":"page","required":false,"type":"number"},{"description":"The page number (Don't use this)","in":"query","name":"per_page","required":false,"type":"number"},{"description":"The name of the specie to filter","in":"query","name":"scientificName","required":false,"type":"string"},{"collectionFormat":"csv","description":"The name of the root specie to filter","in":"query","items":{"enum":["Plantae","Animalia","Reptilia","Fungi"],"type":"string"},"name":"kingdom","required":false,"type":"array"},{"description":"The latitude of bbox (ex. '40.1, 44.2')","in":"query","name":"minDecimalLatitude","required":false,"type":"string"},{"description":"The longitude of bbox (ex. '2.1, 6.2')","in":"query","name":"maxDecimalLongitude","required":false,"type":"string"},{"description":"Observations Created after this date (ex. '2021-11-04')","in":"query","name":"minEventDate","required":false,"type":"string"},{"description":"Observations Created before this date (ex. '2021-11-04')","in":"query","name":"maxEventDate","required":false,"type":"string"},{"collectionFormat":"csv","in":"query","items":{"enum":["id_please","geo","photos"],"type":"string"},"name":"has","required":false,"type":"array"},{"collectionFormat":"csv","in":"query","items":{"enum":["research","casual"],"type":"string"},"maxLength":2,"name":"identificationVerificationStatus","required":false,"type":"array"},{"collectionFormat":"csv","description":"portal code","in":"query","items":{"enum":["natusfera","ispot","plantnet","artportalen"],"type":"string"},"name":"ownerInstitutionCodeProperty","required":false,"type":"array"}],"responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/Observation"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Observations"]},"x-swagger-router-controller":"observations"},"/dwc/observations/{id}":{"get":{"description":"Return observation detail","operationId":"observation","parameters":[{"description":"The id of the observation","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Observation"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Observations"]},"x-swagger-router-controller":"observation"},"/export":{"get":{"description":"Returns 'Observations' from different portals","operationId":"export","parameters":[{"description":"The page number","in":"query","name":"page","required":false,"type":"number"},{"description":"The page number (Don't use this)","in":"query","name":"per_page","required":false,"type":"number"},{"description":"The name of the specie to filter","in":"query","name":"scientificName","required":false,"type":"string"},{"collectionFormat":"csv","description":"The name of the root specie to filter","in":"query","items":{"enum":["Plantae","Animalia","Reptilia","Fungi"],"type":"string"},"name":"kingdom","required":false,"type":"array"},{"description":"The latitude of bbox (ex. '40.1, 44.2')","in":"query","name":"minDecimalLatitude","required":false,"type":"string"},{"description":"The longitude of bbox (ex. '2.1, 6.2')","in":"query","name":"maxDecimalLongitude","required":false,"type":"string"},{"description":"Observations Created after this date (ex. '2021-11-04')","in":"query","name":"minEventDate","required":false,"type":"string"},{"description":"Observations Created before this date (ex. '2021-11-04')","in":"query","name":"maxEventDate","required":false,"type":"string"},{"collectionFormat":"csv","in":"query","items":{"enum":["id_please","geo","photos"],"type":"string"},"name":"has","required":false,"type":"array"},{"collectionFormat":"csv","in":"query","items":{"enum":["research","casual"],"type":"string"},"maxLength":2,"name":"identificationVerificationStatus","required":false,"type":"array"},{"collectionFormat":"csv","description":"portal code","in":"query","items":{"enum":["natusfera","ispot","plantnet","artportalen"],"type":"string"},"name":"ownerInstitutionCodeProperty","required":false,"type":"array"}],"responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/Comment"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Observations"]},"x-swagger-router-controller":"export"},"/images":{"get":{"description":"Returns 'Images' from iSpot (ðŸš¨it's only required for iSpot)","operationId":"images","parameters":[{"collectionFormat":"csv","in":"query","items":{"type":"string"},"name":"ids","required":false,"type":"array"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SuccessResponse"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["iSpot"]},"x-swagger-router-controller":"images"},"/userInfo":{"get":{"description":"Returns user info status from authenix","operationId":"userInfo","parameters":[{"in":"query","name":"access_token","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/UserInfoResponse"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Auth"]},"x-swagger-router-controller":"userInfo"},"/users/agg":{"get":{"description":"Show aggregations of users by dates","operationId":"users","parameters":[{"description":"The user_id from Authenix","in":"header","name":"sub","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/SuccessResponse"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Users"]},"x-swagger-router-controller":"users"},"/users/search":{"get":{"description":"Show list of users","operationId":"users","responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/User"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Users"]},"x-swagger-router-controller":"users"},"/users/{id}":{"get":{"description":"Show info + aggregations of user","operationId":"users","parameters":[{"description":"The id of the user","in":"path","name":"id","required":true,"type":"string"},{"description":"The user_id from Authenix","in":"header","name":"sub","required":false,"type":"string"},{"description":"The access_token from Authenix","in":"header","name":"access_token","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/SuccessResponse"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Users"]},"post":{"description":"Show info + aggregations of user","operationId":"updateUser","parameters":[{"description":"The id of the user","in":"path","name":"id","required":true,"type":"string"},{"description":"The user_id from Authenix","in":"header","name":"sub","required":false,"type":"string"},{"description":"The access_token from Authenix","in":"header","name":"access_token","required":false,"type":"string"},{"description":"The body of the user","in":"body","name":"user","required":false,"schema":{"properties":{"_id":{"type":"string"},"accepted_terms":{"type":"boolean"},"active":{"type":"string"},"allow_notifications":{"type":"boolean"},"city":{"type":"string"},"client_id":{"type":"string"},"created_at":{"type":"string"},"description":{"type":"string"},"displayName":{"type":"string"},"email":{"type":"string"},"exp":{"type":"string"},"id":{"type":"string"},"profession":{"type":"string"},"sub":{"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Success","schema":{"items":{"$ref":"#/definitions/SuccessResponse"},"type":"array"}},"default":{"description":"Error","schema":{"$ref":"#/definitions/ErrorResponse"}}},"tags":["Users"]},"x-swagger-router-controller":"users"}},"produces":["application/json"],"schemes":["https"],"swagger":"2.0"}
